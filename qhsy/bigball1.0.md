# 模拟运营游戏



## 1 地图

### 1.1 地图加载

#### 1.1.1 策略一 依据窗口位置加载区块

step 01：将地图分割为区块

step 02：创建并固定地图坐标及原点

step 03：监测窗口相对于地图原点的坐标

step 04：加载窗口内的地图区块，并对窗口外的区块减载

step 00：地图加载策略一的目的是降低运行负荷，以免地图过大导致运行不流畅。使用策略一需要注意以下内容：

（1）需要注意地图上物品的坐标，当其进入窗口内时，与相应的地图区块一起加载（step 04）

（2）地图区块的大小要适度，避免过大或过小（step 01）

（3）在对区块进行减载时，对应的物品也一并减载，但需要及时保存对物品做出的修改（step 04）

#### 1.1.2 策略二 全部加载

step 01：读取保存或临时保存的地图信息

step 02：提取需要展示的内容，全部加载

step 00：地图加载策略二适用于小地图展示，在进入游戏或执行某项操作时，加载显示全部地图，例如游戏中的地图道具或功能。使用策略一需要注意以下内容：

（1）小地图应当与大地图信息保持一致（step 01）

（2）提取地图内容时要详略得当（step 02）



## 2 概率

定义：P - 概率， S - 系数， a - 温度， b - 天气， c - 物品， a0 - 常温， k - 群系， num - 类数， fromp - 从概率中抽取， i, j, m, n - 角标临时字

### 2.1 温度

a = a0 * Sk * Sb



### 2.2 天气

雨， 雪， 雾， 晴

b = fromp( [P_ki_bj] )		i - [1 : knum]		j - [1 : bnum]



### 2.3 物品

cm = fromp( P_ki_c )		m - [1 : cnum]		i - [1 : knum]		( 数量阈值内 )



